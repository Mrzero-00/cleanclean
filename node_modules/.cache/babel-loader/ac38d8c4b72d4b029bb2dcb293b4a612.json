{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar interface_1 = require(\"./interface\");\n\nvar api_1 = require(\"./api\");\n\nfunction makeMultipartData(data) {\n  var boundary = Math.random().toFixed(12).substr(2);\n  var dataString = \"\";\n\n  for (var key in data) {\n    var value = Buffer.from(data[key]).toString(\"base64\");\n    var length_1 = Buffer.from(value).byteLength;\n    dataString += \"--\" + boundary + \"\\n\" + (\"Content-Disposition: form-data; name=\\\"\" + key + \"\\\"\\n\") + (\"Content-Length: \" + length_1 + \"\\n\") + (\"\\n\" + value + \"\\n\");\n  }\n\n  dataString += \"--\" + boundary + \"--\";\n  var contentType = \"multipart/form-data; boundary=\" + boundary;\n  var contentLength = Buffer.from(dataString).byteLength;\n  var multipartHeaders = {\n    \"Content-Type\": contentType,\n    \"Content-Length\": contentLength.toString()\n  };\n  return {\n    dataString: dataString,\n    multipartHeaders: multipartHeaders\n  };\n}\n\nexports.makeMultipartData = makeMultipartData;\n\nfunction makeMessageSendData(form, config, forceMessageType) {\n  var length = Buffer.byteLength(form.body);\n  var sphone = config.phone.split(\"-\");\n  var data = {\n    user_id: config.userId,\n    secure: config.secret,\n    sphone1: sphone[0],\n    sphone2: sphone[1],\n    sphone3: sphone[2],\n    rphone: form.phone,\n    smsType: \"S\",\n    mode: \"1\",\n    msg: form.body,\n    sms_url: api_1.CAFE24_MESSAGE_API_URL\n  };\n\n  if (length > 2000 || length > 90 && forceMessageType == interface_1.MessageType.SMS) {\n    throw new Error(\"message body is too big\");\n  } else if (length > 90) {\n    data.smsType = \"L\";\n  }\n\n  if (form.isTest) data.testflag = \"Y\";\n\n  if (form.repeat) {\n    var repeat = form.repeat;\n    data = __assign({}, data, {\n      repeatFlag: \"Y\",\n      repeatNum: repeat.count.toString(),\n      repeatTime: repeat.interval.toString()\n    });\n  }\n\n  if (form.reserve) {\n    var reserve = form.reserve;\n    var date = (reserve.getFullYear() + \"\").padStart(4, \"0\") + (reserve.getMonth() + \"\").padStart(2, \"0\") + (reserve.getDate() + \"\").padStart(2, \"0\");\n    var time = (reserve.getHours() + \"\").padStart(2, \"0\") + (reserve.getMinutes() + \"\").padStart(2, \"0\") + (reserve.getSeconds() + \"\").padStart(2, \"0\");\n    data = __assign({}, data, {\n      rdate: date,\n      rtime: time\n    });\n  }\n\n  var messageType = data.smsType === \"S\" ? interface_1.MessageType.SMS : interface_1.MessageType.LMS;\n  return {\n    data: data,\n    messageType: messageType\n  };\n}\n\nexports.makeMessageSendData = makeMessageSendData;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","defineProperty","exports","value","interface_1","require","api_1","makeMultipartData","data","boundary","Math","random","toFixed","substr","dataString","key","Buffer","from","toString","length_1","byteLength","contentType","contentLength","multipartHeaders","makeMessageSendData","form","config","forceMessageType","body","sphone","phone","split","user_id","userId","secure","secret","sphone1","sphone2","sphone3","rphone","smsType","mode","msg","sms_url","CAFE24_MESSAGE_API_URL","MessageType","SMS","Error","isTest","testflag","repeat","repeatFlag","repeatNum","count","repeatTime","interval","reserve","date","getFullYear","padStart","getMonth","getDate","time","getHours","getMinutes","getSeconds","rdate","rtime","messageType","LMS"],"sources":["/Users/sangil/Desktop/outsourcing/youngh91_cleanapp/node_modules/cafe24-message/dist/parser.js"],"sourcesContent":["\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar interface_1 = require(\"./interface\");\r\nvar api_1 = require(\"./api\");\r\nfunction makeMultipartData(data) {\r\n    var boundary = Math.random()\r\n        .toFixed(12)\r\n        .substr(2);\r\n    var dataString = \"\";\r\n    for (var key in data) {\r\n        var value = Buffer.from(data[key]).toString(\"base64\");\r\n        var length_1 = Buffer.from(value).byteLength;\r\n        dataString +=\r\n            \"--\" + boundary + \"\\n\" +\r\n                (\"Content-Disposition: form-data; name=\\\"\" + key + \"\\\"\\n\") +\r\n                (\"Content-Length: \" + length_1 + \"\\n\") +\r\n                (\"\\n\" + value + \"\\n\");\r\n    }\r\n    dataString += \"--\" + boundary + \"--\";\r\n    var contentType = \"multipart/form-data; boundary=\" + boundary;\r\n    var contentLength = Buffer.from(dataString).byteLength;\r\n    var multipartHeaders = {\r\n        \"Content-Type\": contentType,\r\n        \"Content-Length\": contentLength.toString()\r\n    };\r\n    return { dataString: dataString, multipartHeaders: multipartHeaders };\r\n}\r\nexports.makeMultipartData = makeMultipartData;\r\nfunction makeMessageSendData(form, config, forceMessageType) {\r\n    var length = Buffer.byteLength(form.body);\r\n    var sphone = config.phone.split(\"-\");\r\n    var data = {\r\n        user_id: config.userId,\r\n        secure: config.secret,\r\n        sphone1: sphone[0],\r\n        sphone2: sphone[1],\r\n        sphone3: sphone[2],\r\n        rphone: form.phone,\r\n        smsType: \"S\",\r\n        mode: \"1\",\r\n        msg: form.body,\r\n        sms_url: api_1.CAFE24_MESSAGE_API_URL\r\n    };\r\n    if (length > 2000 || (length > 90 && forceMessageType == interface_1.MessageType.SMS)) {\r\n        throw new Error(\"message body is too big\");\r\n    }\r\n    else if (length > 90) {\r\n        data.smsType = \"L\";\r\n    }\r\n    if (form.isTest)\r\n        data.testflag = \"Y\";\r\n    if (form.repeat) {\r\n        var repeat = form.repeat;\r\n        data = __assign({}, data, { repeatFlag: \"Y\", repeatNum: repeat.count.toString(), repeatTime: repeat.interval.toString() });\r\n    }\r\n    if (form.reserve) {\r\n        var reserve = form.reserve;\r\n        var date = (reserve.getFullYear() + \"\").padStart(4, \"0\") +\r\n            (reserve.getMonth() + \"\").padStart(2, \"0\") +\r\n            (reserve.getDate() + \"\").padStart(2, \"0\");\r\n        var time = (reserve.getHours() + \"\").padStart(2, \"0\") +\r\n            (reserve.getMinutes() + \"\").padStart(2, \"0\") +\r\n            (reserve.getSeconds() + \"\").padStart(2, \"0\");\r\n        data = __assign({}, data, { rdate: date, rtime: time });\r\n    }\r\n    var messageType = data.smsType === \"S\" ? interface_1.MessageType.SMS : interface_1.MessageType.LMS;\r\n    return {\r\n        data: data,\r\n        messageType: messageType\r\n    };\r\n}\r\nexports.makeMessageSendData = makeMessageSendData;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}